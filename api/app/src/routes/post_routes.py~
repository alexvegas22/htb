from flask import Flask, request
from models import posts
app = Flask(__name__)

@app.route('/posts', methods=['GET','POST'])
def posts_route():
    # handle the POST request
    if request.method == 'POST':
        data = request.get_json()

        post = {
            'id': len(posts)+1,
            'title': data['title'],
            'img': data['image'],
            'user': 'veal',
            'content': data['content']
        }
        print(post)
        createPost(post)
    # otherwise handle the GET request
    return getPosts()
